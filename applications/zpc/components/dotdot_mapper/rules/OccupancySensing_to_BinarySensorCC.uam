// DotDot Attributes
def OCCUPANCY_SENSING_OCCUPANCY 0x04060000
def OCCUPANCY_SENSING_OCCUPANCY_SENSOR_TYPE 0x04060001
def OCCUPANCY_SENSING_OCCUPANCY_SENSOR_TYPE_BITMAP 0x04060002
def OCCUPANCY_SENSING_PIR_OCCUPIED_TO_UNOCCUPIED_DELAY 0x04060010
def OCCUPANCY_SENSING_PIR_UNOCCUPIED_TO_OCCUPIED_DELAY 0x04060011
def OCCUPANCY_SENSING_PIR_UNOCCUPIED_TO_OCCUPIED_THRESHOLD 0x04060012
def OCCUPANCY_SENSING_ULTRASONIC_OCCUPIED_TO_UNOCCUPIED_DELAY 0x04060020
def OCCUPANCY_SENSING_ULTRASONIC_UNOCCUPIED_TO_OCCUPIED_DELAY 0x04060021
def OCCUPANCY_SENSING_ULTRASONIC_UNOCCUPIED_TO_OCCUPIED_THRESHOLD 0x04060022
def OCCUPANCY_SENSING_PHYSICAL_CONTACT_OCCUPIED_TO_UNOCCUPIED_DELAY 0x04060030
def OCCUPANCY_SENSING_PHYSICAL_CONTACT_UNOCCUPIED_TO_OCCUPIED_DELAY 0x04060031
def OCCUPANCY_SENSING_PHYSICAL_CONTACT_UNOCCUPIED_TO_OCCUPIED_THRESHOLD 0x04060032

// Z-Wave attributes
def zwCOMMAND_CLASS_SENSOR_BINARY_VERSION 0x3001
def zwSENSOR_BINARY_SENSOR_VALUE 0x3002

def BINARY_SENSOR_IDLE 0x00
def BINARY_SENSOR_DETECTED 0x0FF

def no_binary_sensor (e'zwSENSOR_BINARY_SENSOR_VALUE==0)

// We would like to map Notification First,
// so this scope is lower than OccupancySensing_to_Notification.

scope 5 {
  r'OCCUPANCY_SENSING_OCCUPANCY =
    if (no_binary_sensor) undefined
    if (r'zwSENSOR_BINARY_SENSOR_VALUE == BINARY_SENSOR_IDLE) 0 1

  // Mapping Z-Wave Binary Sensor to Dotdot Physical Contact Occupancy Sensor Type
  r'OCCUPANCY_SENSING_OCCUPANCY_SENSOR_TYPE = if (e'zwCOMMAND_CLASS_SENSOR_BINARY_VERSION) 3 undefined
  r'OCCUPANCY_SENSING_OCCUPANCY_SENSOR_TYPE_BITMAP = if (e'zwCOMMAND_CLASS_SENSOR_BINARY_VERSION) 2 undefined
}
