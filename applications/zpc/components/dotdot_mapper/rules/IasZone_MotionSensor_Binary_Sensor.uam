// DotDot Attributes
// This represents the attributes in the DotDot IASZone cluster
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_STATE 0x05000000
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_TYPE 0x05000001
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_STATUS 0x05000002
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_IASCIE_ADDRESS 0x05000010
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONEID 0x05000011
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_NUMBER_OF_ZONE_SENSITIVITY_LEVELS_SUPPORTED 0x05000012
def DOTDOT_ATTRIBUTE_ID_IAS_ZONE_CURRENT_ZONE_SENSITIVITY_LEVEL 0x05000013

def IAS_ZONE_ZONE_STATE_NOT_ENROLLED 0
def IAS_ZONE_TYPE_MOTION_SENSOR 0x000d

// Z-Wave attributes
def zwSENSOR_BINARY_SENSOR_VALUE 0x3002


def BINARY_SENSOR_IDLE 0x00
def BINARY_SENSOR_DETECTED 0xFF

scope 1 {
  // For now zbIAS_ZONE_ZONE_STATE is always NOT ENROLLED
  r'DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_STATE =
    if (e'zwSENSOR_BINARY_SENSOR_VALUE) IAS_ZONE_ZONE_STATE_NOT_ENROLLED undefined

  // Always set type to MOTION SENSOR
  r'DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_TYPE = if (e'zwSENSOR_BINARY_SENSOR_VALUE) IAS_ZONE_TYPE_MOTION_SENSOR undefined

  // If motion detected set ALARM2 (bit 1) to 1, otherwise set to 0
  r'DOTDOT_ATTRIBUTE_ID_IAS_ZONE_ZONE_STATUS =
    if (r'zwSENSOR_BINARY_SENSOR_VALUE == BINARY_SENSOR_DETECTED) 2
    if (r'zwSENSOR_BINARY_SENSOR_VALUE == BINARY_SENSOR_IDLE) 0
    undefined
}
