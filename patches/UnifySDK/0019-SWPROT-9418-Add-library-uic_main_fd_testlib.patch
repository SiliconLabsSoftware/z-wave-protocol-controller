From 6c5a5fddae586cdb8e70015d8263d2bc0364eef0 Mon Sep 17 00:00:00 2001
From: Thomas du Boisrouvray <thomas.duboisrouvray@silabs.com>
Date: Wed, 26 Mar 2025 16:21:51 +0100
Subject: [PATCH] SWPROT-9418: Add library uic_main_fd_testlib

---
 components/uic_main_fd/CMakeLists.txt | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/components/uic_main_fd/CMakeLists.txt b/components/uic_main_fd/CMakeLists.txt
index d8cf24d663..a3263f223a 100644
--- a/components/uic_main_fd/CMakeLists.txt
+++ b/components/uic_main_fd/CMakeLists.txt
@@ -10,3 +10,13 @@ install_headers(uic_main_fd uic libuic-dev)
 if(BUILD_TESTING)
   target_add_mock(uic_main_fd)
 endif()
+
+# ZWAVE_TESTLIB uic_main_fd library
+add_library(uic_main_fd_testlib OBJECT src/uic_main_externals.c)
+target_link_libraries(uic_main_fd_testlib PUBLIC uic_contiki uic_log_testlib)
+target_include_directories(
+  uic_main_fd_testlib
+  PUBLIC $<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/include>
+  PRIVATE src/)
+
+install_headers(uic_main_fd_testlib uic libuic-dev)
-- 
2.43.0

