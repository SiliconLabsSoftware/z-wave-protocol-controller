<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="595px" preserveAspectRatio="none" style="width:1409px;height:595px;background:#FFFFFF;" version="1.1" viewBox="0 0 1409 595" width="1409px" zoomAndPan="magnify"><defs><filter height="300%" id="f1oulv5oo1bmn6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="672.5" cy="16" fill="#000000" filter="url(#f1oulv5oo1bmn6)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="IDLE"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="65.6001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="620.5" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="620.5" x2="724.5" y1="113.7999" y2="113.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="657" y="105.0059">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="625.5" y="129.948">Reported: IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="625.5" y="144.3481">Desired: IDLE</text></g><g id="ONGOING"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="65.6001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="134" x="606.5" y="230"/><line style="stroke:#A80036;stroke-width:1.5;" x1="606.5" x2="740.5" y1="256.7999" y2="256.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="639.5" y="248.0059">ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="611.5" y="272.948">Reported: ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="611.5" y="287.3481">Desired: IDLE</text></g><g id="WAITING_FOR_ACTIVATION"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="65.6001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="237" x="354" y="373"/><line style="stroke:#A80036;stroke-width:1.5;" x1="354" x2="591" y1="399.7999" y2="399.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="377.5" y="391.0059">WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="217" x="359" y="415.948">Reported: WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="359" y="430.3481">Desired: IDLE</text></g><g id="ACTIVATION_TIMEOUT"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="65.6001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="229" x="7" y="516"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="236" y1="542.7999" y2="542.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="43.5" y="534.0059">ACTIVATION_TIMEOUT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="12" y="558.948">Reported: Undefined</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="209" x="12" y="573.3481">Desired: WAITING_FOR_ACTIVATION</text></g><g id="WAITING_FOR_REBOOT"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="65.6001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="216" x="917.5" y="373"/><line style="stroke:#A80036;stroke-width:1.5;" x1="917.5" x2="1133.5" y1="399.7999" y2="399.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="943" y="391.0059">WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196" x="922.5" y="415.948">Reported: WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="922.5" y="430.3481">Desired: IDLE</text></g><!--MD5=[9c5673dd9f569fe24504060ab78be963]
link *start to IDLE--><path d="M672.5,26.05 C672.5,38.55 672.5,61.82 672.5,81.95 " fill="none" id="*start-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="672.5,87,676.5,78,672.5,82,668.5,78,672.5,87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d41842302ca67f5a37a90af18a619068]
link IDLE to ONGOING--><path d="M620.31,141.33 C593.32,155.22 568.48,175.53 581.5,200 C586.96,210.27 594.96,219.14 604.01,226.7 " fill="none" id="IDLE-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="607.94,229.87,603.4227,221.1182,604.0398,226.7413,598.4168,227.3585,607.94,229.87" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="582.5" y="196.077">Initiate firmware update</text><!--MD5=[02c83846398aa9de016ff26a10596df8]
link ONGOING to IDLE--><path d="M709.51,229.8 C720.49,216.07 728.3,199.44 722.5,183 C719.32,173.98 714.2,165.3 708.43,157.45 " fill="none" id="ONGOING-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="705.17,153.17,707.4468,162.7521,708.2019,157.1458,713.8082,157.901,705.17,153.17" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="725.5" y="196.077">Update either success or fail. No reboot needed.</text><!--MD5=[bf95208068f958690ce858b1af1bfb4c]
link ONGOING to ONGOING--><path d="M740.7,249.91 C760.31,250.37 775.5,254.73 775.5,263 C775.5,270.5 763.02,274.78 746.09,275.86 " fill="none" id="ONGOING-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="740.7,276.09,749.863,279.701,745.6954,275.8759,749.5205,271.7083,740.7,276.09" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="781.5" y="267.577">End node responds and frame valid</text><!--MD5=[d2901a3a9c03b31757dd22a897fdbe5d]
link ONGOING to WAITING_FOR_ACTIVATION--><path d="M621.64,296.06 C606.89,305.47 590.92,315.94 576.5,326 C556.79,339.75 535.58,355.66 517.48,369.58 " fill="none" id="ONGOING-to-WAITING_FOR_ACTIVATION" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="513.43,372.7,522.9976,370.3631,517.3867,369.6432,518.1067,364.0323,513.43,372.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="577.5" y="339.077">Update done and end node supports activation</text><!--MD5=[1237bf9c4002173552d2807bb0d74fc2]
link WAITING_FOR_ACTIVATION to ACTIVATION_TIMEOUT--><path d="M392.41,439.17 C336.72,461.54 262.61,491.32 205.98,514.07 " fill="none" id="WAITING_FOR_ACTIVATION-to-ACTIVATION_TIMEOUT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="201.24,515.97,211.0819,516.3414,205.8824,514.113,208.1107,508.9136,201.24,515.97" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="319.5" y="482.077">Set apply timer callback</text><!--MD5=[b4ddb5706a554f2c916c35528d22b45d]
link ACTIVATION_TIMEOUT to IDLE--><path d="M106,515.99 C86.02,469.6 58.32,383.01 98.5,326 C218.93,155.11 495.34,125.89 615.25,121.46 " fill="none" id="ACTIVATION_TIMEOUT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="620.5,121.27,611.3682,117.5807,615.5029,121.4413,611.6423,125.576,620.5,121.27" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445" x="99.5" y="339.077">Get rule triggerred to send Activtion command. Update either success or fail.</text><!--MD5=[0fc91e6b99cd5b1182cd2cbce0dd14a2]
link ONGOING to WAITING_FOR_REBOOT--><path d="M740.9,285.6 C774.46,296.83 815.46,311.26 851.5,326 C867.88,332.7 871.43,335.6 887.5,343 C907.27,352.11 928.69,361.81 948.64,370.78 " fill="none" id="ONGOING-to-WAITING_FOR_REBOOT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="953.4,372.92,946.8342,365.579,948.8404,370.8682,943.5512,372.8744,953.4,372.92" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="888.5" y="339.077">Update done and end node requires reboot</text><!--MD5=[5137197dd438a057b6bb28e1cf836452]
link WAITING_FOR_REBOOT to IDLE--><path d="M1109.37,372.91 C1120.99,364.89 1131.38,355.04 1138.5,343 C1184.33,265.58 1092.67,227.54 1014.5,183 C966.8,155.82 814.16,135.96 729.83,126.74 " fill="none" id="WAITING_FOR_REBOOT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="724.63,126.18,733.1426,131.1333,729.6005,126.7228,734.011,123.1806,724.63,126.18" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="1150.5" y="267.577">Reboot done. Update either success or fail.</text><!--MD5=[2aad6749a3e4b2d2cd09f9c36375a0aa]
@startuml inline_umlgraph_19.svg
[*] - -> IDLE
IDLE - -> ONGOING : Initiate firmware update
IDLE: Reported: IDLE
IDLE: Desired: IDLE
ONGOING - -> ONGOING : End node responds and frame valid
ONGOING: Reported: ONGOING
ONGOING: Desired: IDLE
ONGOING - -> WAITING_FOR_ACTIVATION : Update done and end node supports activation
WAITING_FOR_ACTIVATION - -> ACTIVATION_TIMEOUT: Set apply timer callback
ACTIVATION_TIMEOUT - -> IDLE : Get rule triggerred to send Activtion command. Update either success or fail.
WAITING_FOR_ACTIVATION: Reported: WAITING_FOR_ACTIVATION
WAITING_FOR_ACTIVATION: Desired: IDLE
ACTIVATION_TIMEOUT: Reported: Undefined
ACTIVATION_TIMEOUT: Desired: WAITING_FOR_ACTIVATION
ONGOING - -> WAITING_FOR_REBOOT : Update done and end node requires reboot
WAITING_FOR_REBOOT: Reported: WAITING_FOR_REBOOT
WAITING_FOR_REBOOT: Desired: IDLE
WAITING_FOR_REBOOT - -> IDLE : Reboot done. Update either success or fail.
ONGOING - -> IDLE : Update either success or fail. No reboot needed.
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>