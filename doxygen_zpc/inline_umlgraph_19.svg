<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="625px" preserveAspectRatio="none" style="width:1452px;height:625px;background:#FFFFFF;" version="1.1" viewBox="0 0 1452 625" width="1452px" zoomAndPan="magnify"><defs><filter height="300%" id="f1oulv5oo1bmn6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="691.5" cy="16" fill="#000000" filter="url(#f1oulv5oo1bmn6)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="IDLE"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="71.7561" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="103" x="640" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="640" x2="743" y1="116.0679" y2="116.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="676.5" y="106.9659">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="645" y="133.896">Reported: IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="645" y="150.2401">Desired: IDLE</text></g><g id="ONGOING"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="71.7561" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="135" x="624" y="238"/><line style="stroke:#A80036;stroke-width:1.5;" x1="624" x2="759" y1="267.0679" y2="267.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="657" y="257.9659">ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="629" y="284.896">Reported: ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="629" y="301.2401">Desired: IDLE</text></g><g id="WAITING_FOR_ACTIVATION"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="71.7561" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="232" x="361.5" y="389"/><line style="stroke:#A80036;stroke-width:1.5;" x1="361.5" x2="593.5" y1="418.0679" y2="418.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="386" y="408.9659">WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="212" x="366.5" y="435.896">Reported: WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="366.5" y="452.2401">Desired: IDLE</text></g><g id="ACTIVATION_TIMEOUT"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="71.7561" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="225" x="7" y="540"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="232" y1="569.0679" y2="569.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="43.5" y="559.9659">ACTIVATION_TIMEOUT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="12" y="586.896">Reported: Undefined</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205" x="12" y="603.2401">Desired: WAITING_FOR_ACTIVATION</text></g><g id="WAITING_FOR_REBOOT"><rect fill="#FEFECE" filter="url(#f1oulv5oo1bmn6)" height="71.7561" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="208" x="952.5" y="389"/><line style="stroke:#A80036;stroke-width:1.5;" x1="952.5" x2="1160.5" y1="418.0679" y2="418.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="978.5" y="408.9659">WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="188" x="957.5" y="435.896">Reported: WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="957.5" y="452.2401">Desired: IDLE</text></g><!--MD5=[9c5673dd9f569fe24504060ab78be963]
link *start to IDLE--><path d="M691.5,26.32 C691.5,38.72 691.5,61.43 691.5,81.62 " fill="none" id="*start-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="691.5,86.69,695.5257,77.7015,691.5143,81.69,687.5257,77.6786,691.5,86.69" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d41842302ca67f5a37a90af18a619068]
link IDLE to ONGOING--><path d="M639.98,143.88 C610.19,158.7 581.18,181 595.5,208 C601.33,218.99 609.94,228.46 619.65,236.5 " fill="none" id="IDLE-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="623.57,239.63,619.0331,230.8883,619.6629,236.51,614.0412,237.1397,623.57,239.63" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="596.5" y="203.897">Initiate firmware update</text><!--MD5=[02c83846398aa9de016ff26a10596df8]
link ONGOING to IDLE--><path d="M728.15,237.69 C735.25,228.74 741.66,218.62 745.5,208 C751.1,192.48 745.08,176.9 735.3,163.44 " fill="none" id="ONGOING-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="732.15,159.33,734.4652,168.9029,735.1979,163.2937,740.8071,164.0263,732.15,159.33" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="749.5" y="203.897">Update either success or fail. No reboot needed.</text><!--MD5=[bf95208068f958690ce858b1af1bfb4c]
link ONGOING to ONGOING--><path d="M759.03,260.17 C778.73,260.64 794,265.26 794,274 C794,281.92 781.46,286.45 764.44,287.59 " fill="none" id="ONGOING-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="759.03,287.83,768.2033,291.4148,764.0248,287.6017,767.8379,283.4232,759.03,287.83" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="800" y="279.397">End node responds and frame valid</text><!--MD5=[d2901a3a9c03b31757dd22a897fdbe5d]
link ONGOING to WAITING_FOR_ACTIVATION--><path d="M630.99,310.03 C615.59,319.41 599.24,329.79 584.5,340 C564.1,354.13 542.43,370.8 523.96,385.56 " fill="none" id="ONGOING-to-WAITING_FOR_ACTIVATION" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="519.82,388.87,529.3432,386.3585,523.7202,385.7413,524.3373,380.1182,519.82,388.87" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="585.5" y="354.897">Update done and end node supports activation</text><!--MD5=[1237bf9c4002173552d2807bb0d74fc2]
link WAITING_FOR_ACTIVATION to ACTIVATION_TIMEOUT--><path d="M393.11,461.12 C337.52,484.26 264.83,514.51 208.35,538.02 " fill="none" id="WAITING_FOR_ACTIVATION-to-ACTIVATION_TIMEOUT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="203.63,539.98,213.4764,540.2,208.2433,538.0519,210.3914,532.8187,203.63,539.98" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="321.5" y="505.897">Set apply timer callback</text><!--MD5=[b4ddb5706a554f2c916c35528d22b45d]
link ACTIVATION_TIMEOUT to IDLE--><path d="M102.68,539.91 C81.72,490.54 53.47,399.94 95.5,340 C221.24,160.69 511.61,129.63 634.7,124.69 " fill="none" id="ACTIVATION_TIMEOUT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="639.72,124.5,630.5777,120.8368,634.7234,124.6856,630.8747,128.8313,639.72,124.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="96.5" y="354.897">Get rule triggerred to send Activtion command. Update either success or fail.</text><!--MD5=[0fc91e6b99cd5b1182cd2cbce0dd14a2]
link ONGOING to WAITING_FOR_REBOOT--><path d="M759.33,296.49 C794.22,308.19 837.14,323.61 874.5,340 C891.07,347.27 894.23,351.09 910.5,359 C929.6,368.28 950.32,377.82 969.99,386.63 " fill="none" id="ONGOING-to-WAITING_FOR_REBOOT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="974.97,388.85,968.3936,381.5185,970.4075,386.8047,965.1212,388.8185,974.97,388.85" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="911.5" y="354.897">Update done and end node requires reboot</text><!--MD5=[5137197dd438a057b6bb28e1cf836452]
link WAITING_FOR_REBOOT to IDLE--><path d="M1148.94,388.8 C1160.31,380.7 1170.4,370.87 1177.5,359 C1226.73,276.67 1127.97,236.28 1044.5,189 C950.38,135.69 821.6,124.79 748.44,123.3 " fill="none" id="WAITING_FOR_REBOOT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="743.27,123.2,752.2001,127.3537,748.2693,123.2857,752.3372,119.3549,743.27,123.2" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="1190.5" y="279.397">Reboot done. Update either success or fail.</text><!--MD5=[ba9b1ed35efc2480feceaf45bf7a651e]
@startuml inline_umlgraph_19.svg
[*] - -> IDLE
IDLE - -> ONGOING : Initiate firmware update
IDLE: Reported: IDLE
IDLE: Desired: IDLE
ONGOING - -> ONGOING : End node responds and frame valid
ONGOING: Reported: ONGOING
ONGOING: Desired: IDLE
ONGOING - -> WAITING_FOR_ACTIVATION : Update done and end node supports activation
WAITING_FOR_ACTIVATION - -> ACTIVATION_TIMEOUT: Set apply timer callback
ACTIVATION_TIMEOUT - -> IDLE : Get rule triggerred to send Activtion command. Update either success or fail.
WAITING_FOR_ACTIVATION: Reported: WAITING_FOR_ACTIVATION
WAITING_FOR_ACTIVATION: Desired: IDLE
ACTIVATION_TIMEOUT: Reported: Undefined
ACTIVATION_TIMEOUT: Desired: WAITING_FOR_ACTIVATION
ONGOING - -> WAITING_FOR_REBOOT : Update done and end node requires reboot
WAITING_FOR_REBOOT: Reported: WAITING_FOR_REBOOT
WAITING_FOR_REBOOT: Desired: IDLE
WAITING_FOR_REBOOT - -> IDLE : Reboot done. Update either success or fail.
ONGOING - -> IDLE : Update either success or fail. No reboot needed.
@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>