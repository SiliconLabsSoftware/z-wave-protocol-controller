<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="736px" preserveAspectRatio="none" style="width:1030px;height:736px;background:#FFFFFF;" version="1.1" viewBox="0 0 1030 736" width="1030px" zoomAndPan="magnify"><defs><filter height="300%" id="f18avuysoj8712" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="357.3999" style="stroke:#000000;stroke-width:2.0;" width="1003" x="10" y="355.1998"/><rect fill="#FFFFFF" height="310.1999" style="stroke:none;stroke-width:1.0;" width="1003" x="10" y="402.3998"/><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="238.4" style="stroke:#000000;stroke-width:2.0;" width="983" x="20" y="467.1997"/><rect fill="#FFFFFF" height="191.2" style="stroke:none;stroke-width:1.0;" width="983" x="20" y="514.3998"/><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="47.2" style="stroke:#000000;stroke-width:2.0;" width="598.5" x="30" y="621.7997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="113" x2="113" y1="40.7999" y2="128.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="113" x2="113" y1="128.7999" y2="156.7999"/><line style="stroke:#A80036;stroke-width:1.0;" x1="113" x2="113" y1="156.7999" y2="186.3999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="113" x2="113" y1="186.3999" y2="227.5998"/><line style="stroke:#A80036;stroke-width:1.0;" x1="113" x2="113" y1="227.5998" y2="729.5997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="516.5" y1="40.7999" y2="128.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="516.5" x2="516.5" y1="128.7999" y2="156.7999"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="516.5" y1="156.7999" y2="186.3999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="516.5" x2="516.5" y1="186.3999" y2="227.5998"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="516.5" y1="227.5998" y2="729.5997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934" x2="934" y1="40.7999" y2="128.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="934" x2="934" y1="128.7999" y2="156.7999"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934" x2="934" y1="156.7999" y2="186.3999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="934" x2="934" y1="186.3999" y2="227.5998"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934" x2="934" y1="227.5998" y2="729.5997"/><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="143" x="40" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="47" y="25.0059">Listener Component</text><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="200" x="414.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="421.5" y="25.0059">ZigPC ZCL Command Parser</text><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="113" x="876" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="883" y="25.0059">ZigPC Gateway</text><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1023" x="0" y="73.9999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1023" y1="73.9999" y2="73.9999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1023" y1="76.9999" y2="76.9999"/><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="28.4" style="stroke:#000000;stroke-width:2.0;" width="113" x="455" y="60.7999"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="99" x="461" y="80.5929">Initialization</text><polygon fill="#A80036" points="922.5,116.7999,932.5,120.7999,922.5,124.7999,926.5,120.7999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="928.5" y1="120.7999" y2="120.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="523.5" y="115.2769">Setup notifications for incoming Commands from PAN nodes</text><polygon fill="#A80036" points="504.5,174.3999,514.5,178.3999,504.5,182.3999,508.5,178.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="113.5" x2="510.5" y1="178.3999" y2="178.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="120.5" y="172.8769">Register to receive Groups/AddGroupResponse command events</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="491" y="210.6188">Time goes by</text><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1023" x="0" y="250.7998"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1023" y1="250.7998" y2="250.7998"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1023" y1="253.7998" y2="253.7998"/><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="28.4" style="stroke:#000000;stroke-width:2.0;" width="565" x="229" y="237.5998"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="551" x="235" y="257.3928">ZCL Groups/AddGroupResponse Command Received from PAN node</text><polygon fill="#A80036" points="527.5,293.5998,517.5,297.5998,527.5,301.5998,523.5,297.5998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="521.5" x2="933.5" y1="297.5998" y2="297.5998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="533.5" y="292.0768">Send Command data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="558.5" y1="327.1998" y2="327.1998"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="558.5" y1="327.1998" y2="340.1998"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517.5" x2="558.5" y1="340.1998" y2="340.1998"/><polygon fill="#A80036" points="527.5,336.1998,517.5,340.1998,527.5,344.1998,523.5,340.1998" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="523.5" y="321.6768">Check cluster support</text><path d="M10,355.1998 L70,355.1998 L70,362.1998 L60,372.1998 L10,372.1998 L10,355.1998 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="357.3999" style="stroke:#000000;stroke-width:2.0;" width="1003" x="10" y="355.1998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15" x="25" y="368.2768">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="166" x="85" y="367.4187">[Groups cluster not supported]</text><polygon fill="#A80036" points="922.5,390.3998,932.5,394.3998,922.5,398.3998,926.5,394.3998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="928.5" y1="394.3998" y2="394.3998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="523.5" y="388.8768">Send back ZCL_CLUSTER_NOT_SUPPORTED status</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1013" y1="403.3998" y2="403.3998"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="268" x="15" y="413.6187">[Groups cluster parsing supported by component]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="558.5" y1="439.1997" y2="439.1997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="558.5" y1="439.1997" y2="452.1997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517.5" x2="558.5" y1="452.1997" y2="452.1997"/><polygon fill="#A80036" points="527.5,448.1997,517.5,452.1997,527.5,456.1997,523.5,452.1997" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="523.5" y="433.6767">Check Groups/AddGroupResponse support</text><path d="M20,467.1997 L80,467.1997 L80,474.1997 L70,484.1997 L20,484.1997 L20,467.1997 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="238.4" style="stroke:#000000;stroke-width:2.0;" width="983" x="20" y="467.1997"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15" x="35" y="480.2767">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="95" y="479.4187">[Groups/AddGroupResponse not supported]</text><polygon fill="#A80036" points="922.5,502.3998,932.5,506.3998,922.5,510.3998,926.5,506.3998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="928.5" y1="506.3998" y2="506.3998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="523.5" y="500.8768">Send back ZCL_CLUSTER_COMMAND_NOT_SUPPORTED status</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1003" y1="515.3998" y2="515.3998"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="341" x="25" y="525.6187">[Groups/AddGroupResponse parsing supported by component]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="558.5" y1="551.1997" y2="551.1997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="558.5" y1="551.1997" y2="564.1997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517.5" x2="558.5" y1="564.1997" y2="564.1997"/><polygon fill="#A80036" points="527.5,560.1997,517.5,564.1997,527.5,568.1997,523.5,564.1997" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="523.5" y="545.6767">Parse payload for Groups/AddGroupResponse</text><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="558.5" y1="593.7997" y2="593.7997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="558.5" y1="593.7997" y2="606.7997"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517.5" x2="558.5" y1="606.7997" y2="606.7997"/><polygon fill="#A80036" points="527.5,602.7997,517.5,606.7997,527.5,610.7997,523.5,606.7997" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="523.5" y="588.2767">Find registered callbacks for Groups/AddGroupResponse</text><path d="M30,621.7997 L103,621.7997 L103,628.7997 L93,638.7997 L30,638.7997 L30,621.7997 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="47.2" style="stroke:#000000;stroke-width:2.0;" width="598.5" x="30" y="621.7997"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="45" y="634.8767">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="268" x="118" y="634.0186">[Groups/AddGroupResponse registered callbacks]</text><polygon fill="#A80036" points="124.5,656.9997,114.5,660.9997,124.5,664.9997,120.5,660.9997" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="118.5" x2="515.5" y1="660.9997" y2="660.9997"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="130.5" y="655.4767">Invoke callback with Groups/AddGroupResponse data</text><polygon fill="#A80036" points="922.5,693.5997,932.5,697.5997,922.5,701.5997,926.5,697.5997" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="516.5" x2="928.5" y1="697.5997" y2="697.5997"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="523.5" y="692.0767">Send back ZCL_STATUS_SUCCESS status</text><!--MD5=[deb1efd70c275859ab0357092fb8b475]
@startuml inline_umlgraph_5.svg
hide footbox
participant "Listener Component" as LC
participant "ZigPC ZCL Command Parser" as CP
participant "ZigPC Gateway" as GT

=== Initialization ==
CP -> GT : Setup notifications for incoming Commands from PAN nodes
...
LC -> CP: Register to receive Groups/AddGroupResponse command events
... Time goes by ...

=== ZCL Groups/AddGroupResponse Command Received from PAN node ==
GT -> CP : Send Command data
CP -> CP : Check cluster support
alt Groups cluster not supported
     CP -> GT: Send back ZCL_CLUSTER_NOT_SUPPORTED status
else Groups cluster parsing supported by component
     CP -> CP : Check Groups/AddGroupResponse support
  alt Groups/AddGroupResponse not supported
    CP -> GT: Send back ZCL_CLUSTER_COMMAND_NOT_SUPPORTED status
  else Groups/AddGroupResponse parsing supported by component
     CP -> CP: Parse payload for Groups/AddGroupResponse
     CP -> CP: Find registered callbacks for Groups/AddGroupResponse
      loop Groups/AddGroupResponse registered callbacks
        CP -> LC: Invoke callback with Groups/AddGroupResponse data
      end loop
     CP -> GT: Send back ZCL_STATUS_SUCCESS status
  end alt
end alt
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>